clone:
  git:
    image: plugins/git
    # depth: 1
    # tags: true
    # branch: fcp
pipeline:
  phpcs:
    image: chimlon/phpcs
    group: laravel
    commands:
      - phpcs --standard=Framgia --encoding=utf-8 app
  notify:
    image: dangminhtruong/drone-chatwork
    token: c3193229243d288927f108bd7d4606bc
    room_id: 97377164
    message: DangMinhTruong
    when:
      status: [ push, changed, failure ]
  rebuild-cache:
    image: drillster/drone-volume-cache
    rebuild: true
    mount:
      - ./node_modules
      - ./vendor
    volumes:
      - /tmp/cache:/cache
  # rocketeer:
  #   image: fdplugins/ssh-php:php5
  #   when:
  #     branch: fcp
  #     event: [ push, tag ]
  #   commands:
  #     - php rocketeer.phar deploy --on=staging --no-interaction
# services:
#   mysql:
#     image: mysql
#     environment:
#       MYSQL_DATABASE: homestead_test
#       MYSQL_USER: homestead_test
#       MYSQL_PASSWORD: secret
#       MYSQL_ROOT_PASSWORD: root