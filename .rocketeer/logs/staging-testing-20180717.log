20180717155045
20180717155544
20180717155749
20180717160017
20180717160240
/usr/bin/git
/usr/bin/git
$ /usr/bin/git clone "https://dangminhtruong:789852t%40@github.com/dangminhtruong/Havana_Laravel.git" "/deploy/havana/testing/releases/20180717160932" --branch="master" --depth="1"
/usr/bin/git clone "https://dangminhtruong:789852t%40@github.com/dangminhtruong/Havana_Laravel.git" "/deploy/havana/testing/releases/20180717160932" --branch="master" --depth="1"
Cloning into '/deploy/havana/testing/releases/20180717160932'...
/usr/bin/git
/usr/bin/git
$ cd /deploy/havana/testing/releases/20180717160932
$ /usr/bin/git submodule update --init --recursive
cd /deploy/havana/testing/releases/20180717160932
/usr/bin/git submodule update --init --recursive

/usr/bin/composer
$ cd /deploy/havana/testing/releases/20180717160932
$ /usr/bin/composer install --no-interaction --no-dev --prefer-dist
cd /deploy/havana/testing/releases/20180717160932
/usr/bin/composer install --no-interaction --no-dev --prefer-dist
Loading composer repositories with package information
Installing dependencies from lock file
Package operations: 37 installs, 0 updates, 0 removals
  - Installing doctrine/inflector (v1.3.0): Loading from cache
  - Installing doctrine/lexer (v1.0.1): Loading from cache
  - Installing erusev/parsedown (1.7.1): Loading from cache
  - Installing vlucas/phpdotenv (v2.4.0): Loading from cache
  - Installing symfony/css-selector (v4.0.6): Loading from cache
  - Installing tijsverkoyen/css-to-inline-styles (2.2.1): Loading from cache
  - Installing symfony/polyfill-mbstring (v1.7.0): Loading from cache
  - Installing symfony/var-dumper (v3.4.6): Loading from cache
  - Installing symfony/routing (v3.4.6): Loading from cache
  - Installing symfony/process (v3.4.6): Loading from cache
  - Installing paragonie/random_compat (v2.0.11): Loading from cache
  - Installing symfony/polyfill-php70 (v1.7.0): Loading from cache
  - Installing symfony/http-foundation (v3.4.6): Loading from cache
  - Installing symfony/event-dispatcher (v4.0.6): Loading from cache
  - Installing psr/log (1.0.2): Loading from cache
  - Installing symfony/debug (v3.4.6): Loading from cache
  - Installing symfony/http-kernel (v3.4.6): Loading from cache
  - Installing symfony/finder (v3.4.6): Loading from cache
  - Installing symfony/console (v3.4.6): Loading from cache
  - Installing egulias/email-validator (2.1.3): Loading from cache
  - Installing swiftmailer/swiftmailer (v6.0.2): Loading from cache
  - Installing ramsey/uuid (3.7.3): Loading from cache
  - Installing psr/simple-cache (1.0.1): Loading from cache
  - Installing psr/container (1.0.0): Loading from cache
  - Installing symfony/translation (v4.0.6): Loading from cache
  - Installing nesbot/carbon (1.25.0): Loading from cache
  - Installing mtdowling/cron-expression (v1.2.1): Loading from cache
  - Installing monolog/monolog (1.23.0): Loading from cache
  - Installing league/flysystem (1.0.43): Loading from cache
  - Installing laravel/framework (v5.5.39): Loading from cache
  - Installing fideloper/proxy (3.3.4): Loading from cache
  - Installing jakub-onderka/php-console-color (0.1): Loading from cache
  - Installing nikic/php-parser (v3.1.5): Loading from cache
  - Installing jakub-onderka/php-console-highlighter (v0.3.2): Loading from cache
  - Installing dnoegel/php-xdg-base-dir (0.1): Loading from cache
  - Installing psy/psysh (v0.8.17): Loading from cache
  - Installing laravel/tinker (v1.0.5): Loading from cache
Generating optimized autoload files
> Illuminate\Foundation\ComposerScripts::postAutoloadDump
> @php artisan package:discover
Discovered Package: fideloper/proxy
Discovered Package: laravel/tinker
Package manifest generated successfully.
$ ln -s /deploy/havana/testing/shared/.env /deploy/havana/testing/releases/20180717160932/.env-temp
$ mv -Tf /deploy/havana/testing/releases/20180717160932/.env-temp /deploy/havana/testing/releases/20180717160932/.env
ln -s /deploy/havana/testing/shared/.env /deploy/havana/testing/releases/20180717160932/.env-temp
mv -Tf /deploy/havana/testing/releases/20180717160932/.env-temp /deploy/havana/testing/releases/20180717160932/.env

$ rm -rf /deploy/havana/testing/releases/20180717160932/storage/logs
rm -rf /deploy/havana/testing/releases/20180717160932/storage/logs

$ ln -s /deploy/havana/testing/shared/storage/logs /deploy/havana/testing/releases/20180717160932/storage/logs-temp
$ mv -Tf /deploy/havana/testing/releases/20180717160932/storage/logs-temp /deploy/havana/testing/releases/20180717160932/storage/logs
ln -s /deploy/havana/testing/shared/storage/logs /deploy/havana/testing/releases/20180717160932/storage/logs-temp
mv -Tf /deploy/havana/testing/releases/20180717160932/storage/logs-temp /deploy/havana/testing/releases/20180717160932/storage/logs

$ rm -rf /deploy/havana/testing/releases/20180717160932/storage/app
rm -rf /deploy/havana/testing/releases/20180717160932/storage/app

$ ln -s /deploy/havana/testing/shared/storage/app /deploy/havana/testing/releases/20180717160932/storage/app-temp
$ mv -Tf /deploy/havana/testing/releases/20180717160932/storage/app-temp /deploy/havana/testing/releases/20180717160932/storage/app
ln -s /deploy/havana/testing/shared/storage/app /deploy/havana/testing/releases/20180717160932/storage/app-temp
mv -Tf /deploy/havana/testing/releases/20180717160932/storage/app-temp /deploy/havana/testing/releases/20180717160932/storage/app

$ rm -rf /deploy/havana/testing/releases/20180717160932/storage/framework
rm -rf /deploy/havana/testing/releases/20180717160932/storage/framework

$ ln -s /deploy/havana/testing/shared/storage/framework /deploy/havana/testing/releases/20180717160932/storage/framework-temp
$ mv -Tf /deploy/havana/testing/releases/20180717160932/storage/framework-temp /deploy/havana/testing/releases/20180717160932/storage/framework
ln -s /deploy/havana/testing/shared/storage/framework /deploy/havana/testing/releases/20180717160932/storage/framework-temp
mv -Tf /deploy/havana/testing/releases/20180717160932/storage/framework-temp /deploy/havana/testing/releases/20180717160932/storage/framework

$ cd /deploy/havana/testing/releases/20180717160932
$ chmod -R 777 /deploy/havana/testing/releases/20180717160932/storage
cd /deploy/havana/testing/releases/20180717160932
chmod -R 777 /deploy/havana/testing/releases/20180717160932/storage

$ cd /deploy/havana/testing/releases/20180717160932
$ yarn install
cd /deploy/havana/testing/releases/20180717160932
yarn install
yarn install v1.7.0
info No lockfile found.
[1/4] Resolving packages...
warning laravel-mix > autoprefixer > browserslist@2.11.3: Browserslist 2 could fail on reading Browserslist >3.0 config used in other tools.
warning laravel-mix > css-loader > cssnano > autoprefixer > browserslist@1.7.7: Browserslist 2 could fail on reading Browserslist >3.0 config used in other tools.
warning laravel-mix > css-loader > cssnano > postcss-merge-rules > browserslist@1.7.7: Browserslist 2 could fail on reading Browserslist >3.0 config used in other tools.
warning laravel-mix > css-loader > cssnano > postcss-merge-rules > caniuse-api > browserslist@1.7.7: Browserslist 2 could fail on reading Browserslist >3.0 config used in other tools.
warning laravel-mix > img-loader > imagemin-gifsicle > gifsicle > bin-build > download > gulp-decompress > gulp-util@3.0.8: gulp-util is deprecated - replace it, following the guidelines at https://medium.com/gulpjs/gulp-util-ca3b1f9f9ac5
[2/4] Fetching packages...
info fsevents@1.2.4: The platform "linux" is incompatible with this module.
info "fsevents@1.2.4" is an optional dependency and failed compatibility check. Excluding it from installation.
[3/4] Linking dependencies...
[4/4] Building fresh packages...
success Saved lockfile.
Done in 46.17s.
$ cd /deploy/havana/testing/releases/20180717160932
$ npm run dev
cd /deploy/havana/testing/releases/20180717160932
npm run dev
> @ dev /deploy/havana/testing/releases/20180717160932
> npm run development


> @ development /deploy/havana/testing/releases/20180717160932
> cross-env NODE_ENV=development node_modules/webpack/bin/webpack.js --progress --hide-modules --config=node_modules/laravel-mix/setup/webpack.config.js

  0% compiling 10% building modules 0/1 modules 1 active ...160932/resources/assets/sass/app.scss                                          10% building modules 1/1 modules 0 active 10% building modules 1/2 modules 1 active ...0717160932/resources/assets/js/app.js 10% building modules 1/3 modules 2 active ...160932/resources/assets/sass/app.scss 10% building modules 2/3 modules 1 active ...0717160932/resources/assets/js/app.js 10% building modules 2/4 modules 2 active ...160932/resources/assets/sass/app.scss 10% building modules 2/5 modules 3 active ...modules/style-loader/lib/addStyles.js 10% building modules 3/5 modules 2 active ...160932/resources/assets/sass/app.scss 10% building modules 4/5 modules 1 active ...160932/resources/assets/sass/app.scss 10% building modules 4/6 modules 2 active ...node_modules/style-loader/lib/urls.js 10% building modules 4/7 modules 3 active ...0932/resources/assets/js/bootstrap.js 10% building modules 5/7 modules 2 active ...0932/resources/assets/js/bootstrap.js 10% building modules 5/8 modules 3 active ...2/node_modules/vue/dist/vue.common.js 10% building modules 6/8 modules 2 active ...0932/resources/assets/js/bootstrap.js 10% building modules 6/9 modules 3 active ...ts/js/components/ExampleComponent.vue 10% building modules 7/9 modules 2 active ...ts/js/components/ExampleComponent.vue 10% building modules 7/10 modules 3 active ...ode_modules/timers-browserify/main.js 10% building modules 8/10 modules 2 active ...ode_modules/timers-browserify/main.js 10% building modules 8/11 modules 3 active ...ode_modules/webpack/buildin/global.js 11% building modules 9/11 modules 2 active ...ode_modules/webpack/buildin/global.js 11% building modules 10/11 modules 1 active ...160932/resources/assets/sass/app.scss 11% building modules 10/12 modules 2 active ...ts/js/components/ExampleComponent.vue 11% building modules 10/13 modules 3 active ...ts/js/components/ExampleComponent.vue 11% building modules 11/13 modules 2 active ...ts/js/components/ExampleComponent.vue 11% building modules 11/14 modules 3 active ...ue-loader/lib/component-normalizer.js 11% building modules 11/15 modules 4 active ...-sass/assets/javascripts/bootstrap.js 11% building modules 12/15 modules 3 active ...-sass/assets/javascripts/bootstrap.js 11% building modules 13/15 modules 2 active ...-sass/assets/javascripts/bootstrap.js 11% building modules 13/16 modules 3 active ...7160932/node_modules/lodash/lodash.js 11% building modules 14/16 modules 2 active ...7160932/node_modules/lodash/lodash.js 11% building modules 14/17 modules 3 active ...717160932/node_modules/axios/index.js 11% building modules 14/18 modules 4 active ...32/node_modules/jquery/dist/jquery.js 11% building modules 15/18 modules 3 active ...32/node_modules/jquery/dist/jquery.js 11% building modules 16/18 modules 2 active ...32/node_modules/jquery/dist/jquery.js 11% building modules 16/19 modules 3 active ..._modules/setimmediate/setImmediate.js 12% building modules 17/19 modules 2 active ..._modules/setimmediate/setImmediate.js 12% building modules 17/20 modules 3 active ...ode_modules/webpack/buildin/module.js 12% building modules 18/20 modules 2 active ...ode_modules/webpack/buildin/module.js 12% building modules 19/20 modules 1 active ...160932/resources/assets/sass/app.scss 12% building modules 19/21 modules 2 active ...60932/node_modules/axios/lib/axios.js 12% building modules 20/21 modules 1 active ...160932/resources/assets/sass/app.scss 12% building modules 20/22 modules 2 active ...60932/node_modules/process/browser.js 12% building modules 20/23 modules 3 active ...60932/node_modules/axios/lib/utils.js 12% building modules 20/24 modules 4 active ...32/node_modules/axios/lib/defaults.js 12% building modules 21/24 modules 3 active ...32/node_modules/axios/lib/defaults.js 12% building modules 21/25 modules 4 active ...ode_modules/axios/lib/helpers/bind.js 12% building modules 21/26 modules 5 active ...e_modules/axios/lib/helpers/spread.js 12% building modules 21/27 modules 6 active .../node_modules/axios/lib/core/Axios.js 12% building modules 21/28 modules 7 active ...de_modules/axios/lib/cancel/Cancel.js 12% building modules 21/29 modules 8 active ...dules/axios/lib/cancel/CancelToken.js 12% building modules 21/30 modules 9 active ..._modules/axios/lib/cancel/isCancel.js 12% building modules 22/30 modules 8 active ..._modules/axios/lib/cancel/isCancel.js 12% building modules 23/30 modules 7 active ..._modules/axios/lib/cancel/isCancel.js 12% building modules 24/30 modules 6 active ..._modules/axios/lib/cancel/isCancel.js 13% building modules 25/30 modules 5 active ..._modules/axios/lib/cancel/isCancel.js 13% building modules 26/30 modules 4 active ..._modules/axios/lib/cancel/isCancel.js 13% building modules 27/30 modules 3 active ...32/node_modules/axios/lib/defaults.js 13% building modules 28/30 modules 2 active ...32/node_modules/axios/lib/defaults.js 13% building modules 29/30 modules 1 active ...160932/resources/assets/sass/app.scss 13% building modules 29/31 modules 2 active .../axios/lib/core/InterceptorManager.js 13% building modules 29/32 modules 3 active ...les/axios/lib/core/dispatchRequest.js 13% building modules 29/33 modules 4 active ...os/lib/helpers/normalizeHeaderName.js 13% building modules 29/34 modules 5 active ...ode_modules/axios/lib/adapters/xhr.js 13% building modules 30/34 modules 4 active ...ode_modules/axios/lib/adapters/xhr.js 13% building modules 31/34 modules 3 active ...ode_modules/axios/lib/adapters/xhr.js 13% building modules 32/34 modules 2 active ...ode_modules/axios/lib/adapters/xhr.js 13% building modules 33/34 modules 1 active ...160932/resources/assets/sass/app.scss 13% building modules 33/35 modules 2 active ...60932/node_modules/is-buffer/index.js 13% building modules 33/36 modules 3 active ...dules/axios/lib/core/transformData.js 13% building modules 33/37 modules 4 active ...es/axios/lib/helpers/isAbsoluteURL.js 13% building modules 33/38 modules 5 active ...ules/axios/lib/helpers/combineURLs.js 13% building modules 33/39 modules 6 active ...node_modules/axios/lib/core/settle.js 13% building modules 33/40 modules 7 active ...modules/axios/lib/helpers/buildURL.js 13% building modules 33/41 modules 8 active ...les/axios/lib/helpers/parseHeaders.js 13% building modules 33/42 modules 9 active .../axios/lib/helpers/isURLSameOrigin.js 13% building modules 33/43 modules 10 active ...modules/axios/lib/core/createError.js 13% building modules 33/44 modules 11 active ...ode_modules/axios/lib/helpers/btoa.js 13% building modules 33/45 modules 12 active ..._modules/axios/lib/helpers/cookies.js 14% building modules 34/45 modules 11 active ..._modules/axios/lib/helpers/cookies.js 14% building modules 35/45 modules 10 active ..._modules/axios/lib/helpers/cookies.js  14% building modules 36/45 modules 9 active ..._modules/axios/lib/helpers/cookies.js 14% building modules 37/45 modules 8 active ..._modules/axios/lib/helpers/cookies.js 14% building modules 38/45 modules 7 active ..._modules/axios/lib/helpers/cookies.js 14% building modules 39/45 modules 6 active ..._modules/axios/lib/helpers/cookies.js 14% building modules 40/45 modules 5 active ..._modules/axios/lib/helpers/cookies.js 14% building modules 41/45 modules 4 active ..._modules/axios/lib/helpers/cookies.js 15% building modules 42/45 modules 3 active ..._modules/axios/lib/helpers/cookies.js 15% building modules 43/45 modules 2 active ..._modules/axios/lib/helpers/cookies.js 15% building modules 44/45 modules 1 active ...160932/resources/assets/sass/app.scss 15% building modules 44/46 modules 2 active ...odules/axios/lib/core/enhanceError.js 15% building modules 45/46 modules 1 active ...160932/resources/assets/sass/app.scss                                          15% building modules 46/46 modules 0 active 15% building modules 46/47 modules 1 active ...de_modules/css-loader/lib/css-base.js 15% building modules 46/48 modules 2 active ..._modules/css-loader/lib/url/escape.js 15% building modules 47/48 modules 1 active ...de_modules/css-loader/lib/css-base.js                                          15% building modules 48/48 modules 0 active 15% building modules 48/49 modules 1 active ...trap/glyphicons-halflings-regular.eot 15% building modules 48/50 modules 2 active ...ap/glyphicons-halflings-regular.woff2 15% building modules 48/51 modules 3 active ...rap/glyphicons-halflings-regular.woff 15% building modules 48/52 modules 4 active ...trap/glyphicons-halflings-regular.ttf 15% building modules 48/53 modules 5 active ...trap/glyphicons-halflings-regular.svg 15% building modules 49/53 modules 4 active ...trap/glyphicons-halflings-regular.svg 16% building modules 50/53 modules 3 active ...trap/glyphicons-halflings-regular.svg 16% building modules 51/53 modules 2 active ...trap/glyphicons-halflings-regular.svg 16% building modules 52/53 modules 1 active ...trap/glyphicons-halflings-regular.svg                                          16% building modules 53/53 modules 0 active                                 71% sealing 72% optimizing 73% basic module optimization       74% module optimization 75% advanced module optimization     76% basic chunk optimization       77% chunk optimization 78% advanced chunk optimization 16% building modules 53/54 modules 1 active ...160932/resources/assets/sass/app.scss                                          16% building modules 54/54 modules 0 active      79% module and chunk tree optimization         80% chunk modules optimization 81% advanced chunk modules optimization                     82% module reviving 83% module order optimization    84% module id optimization         85% chunk reviving 86% chunk order optimization    87% chunk id optimization               88% hashing 89% module assets processing  90% chunk assets processing 91% additional chunk assets processing                          92% recording 91% additional asset processing    92% chunk asset optimization       94% asset optimization           95% emitting DONE  Compiled successfully in 7598ms09:10:43

                                                                                                                 Asset     Size  Chunks                    Chunk Names
  fonts/vendor/bootstrap-sass/bootstrap/glyphicons-halflings-regular.eot?f4769f9bdb7466be65088239c12046d1  20.1 kB          [emitted]         
fonts/vendor/bootstrap-sass/bootstrap/glyphicons-halflings-regular.woff2?448c34a56d699c29117adc64c43affeb    18 kB          [emitted]         
 fonts/vendor/bootstrap-sass/bootstrap/glyphicons-halflings-regular.woff?fa2772327f55d8198301fdb8bcfc8158  23.4 kB          [emitted]         
  fonts/vendor/bootstrap-sass/bootstrap/glyphicons-halflings-regular.ttf?e18bbf611f2a2e43afc071aa2f4e1512  45.4 kB          [emitted]         
  fonts/vendor/bootstrap-sass/bootstrap/glyphicons-halflings-regular.svg?89889688147bd7575d6327160d64e760   109 kB          [emitted]         
                                                                                               /js/app.js  1.24 MB       0  [emitted]  [big]  /js/app
                                                                                             /css/app.css   147 kB       0  [emitted]         /js/app
$ ln -s /deploy/havana/testing/releases/20180717160932 /deploy/havana/testing/current-temp
$ mv -Tf /deploy/havana/testing/current-temp /deploy/havana/testing/current
ln -s /deploy/havana/testing/releases/20180717160932 /deploy/havana/testing/current-temp
mv -Tf /deploy/havana/testing/current-temp /deploy/havana/testing/current

<fg=cyan>staging/0/testing</fg=cyan>    |=> Successfully deployed release 20180717160932
$ rm -rf /deploy/havana/testing/releases/20180717155045
rm -rf /deploy/havana/testing/releases/20180717155045

<fg=cyan>staging/0/testing</fg=cyan>    |=> Removing <info>1 release</info> from the server